<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
    <title>Enter Your Name - The Abyss</title>
    <meta name="description" content="Enter your name to begin the horror experience." />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Creepster&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        /* Global Styles */
        html, body, #root {
          margin: 0;
          padding: 0;
          width: 100%;
          height: 100%;
          overflow: hidden;
          font-family: 'Creepster', cursive;
          background: radial-gradient(ellipse at center, #2e0000 0%, #000 75%);
          color: #ff0000;
          animation: backgroundPulse 7s infinite ease-in-out;
        }

        /* Keyframes */
        @keyframes pulse {
          0% { transform: scale(1); filter: drop-shadow(0 0 5px #ff0000); }
          50% { transform: scale(1.03); filter: drop-shadow(0 0 15px #ff0000); }
          100% { transform: scale(1); filter: drop-shadow(0 0 5px #ff0000); }
        }
        @keyframes float {
          0% { transform: translateY(0px); }
          50% { transform: translateY(-10px); }
          100% { transform: translateY(0px); }
        }
        @keyframes flicker {
          0%, 18%, 22%, 25%, 53%, 57%, 100% {
            text-shadow:
              0 0 5px #fff, 0 0 10px #fff, 0 0 15px #fff,
              0 0 20px #ff0000, 0 0 35px #ff0000, 0 0 40px #ff0000,
              0 0 50px #ff0000, 0 0 75px #ff0000;
            opacity: 1;
          }
          20%, 24%, 55% { text-shadow: none; opacity: 0.7; }
        }
        @keyframes backgroundSwirl {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        @keyframes tapGlow {
            0%, 100% { text-shadow: 0 0 10px #ff4d4d, 0 0 20px #ff0000; }
            50% { text-shadow: 0 0 20px #ff4d4d, 0 0 40px #ff0000, 0 0 50px #b40000; }
        }
        @keyframes screenShake {
          0%, 100% { transform: translate(0, 0); }
          10%, 30%, 50%, 70%, 90% { transform: translate(-2px, 2px); }
          20%, 40%, 60%, 80% { transform: translate(2px, -2px); }
        }
        @keyframes logoSlam {
            0% { transform: scale(25); opacity: 0; }
            80% { transform: scale(0.95); opacity: 1; }
            100% { transform: scale(1); opacity: 1; }
        }
        @keyframes revealFlash {
            from { 
                background: radial-gradient(circle, rgba(255,0,0,0.9) 0%, rgba(0,0,0,0) 20%);
                opacity: 1;
            }
            to { 
                background: radial-gradient(circle, rgba(100,0,0,0.4) 0%, rgba(0,0,0,0) 60%, rgba(0,0,0,1) 80%),
                            radial-gradient(circle, rgba(50,0,0,0.5) 0%, rgba(0,0,0,0) 70%);
                opacity: 1;
            }
        }
        @keyframes barGlitchIn {
            0% { opacity: 0; transform: scaleX(0); }
            60% { opacity: 1; transform: scaleX(1.1); }
            100% { opacity: 1; transform: scaleX(1); }
        }
        @keyframes backgroundPulse {
          0% { box-shadow: inset 0 0 80px 40px #000; }
          50% { box-shadow: inset 0 0 120px 60px rgba(100, 0, 0, 0.3); }
          100% { box-shadow: inset 0 0 80px 40px #000; }
        }
        @keyframes grain {
          0%, 100% { transform: translate(0, 0); } 10% { transform: translate(-1%, -1%); } 20% { transform: translate(1%, 1%); } 30% { transform: translate(-2%, 2%); } 40% { transform: translate(2%, -2%); } 50% { transform: translate(-1%, 2%); } 60% { transform: translate(2%, 1%); } 70% { transform: translate(1%, -2%); } 80% { transform: translate(-2%, -1%); } 90% { transform: translate(1%, 2%); }
        }
        @keyframes shake {
          0%, 100% { transform: translateX(0); } 20%, 60% { transform: translateX(-5px); } 40%, 80% { transform: translateX(5px); }
        }
        @keyframes textFlicker {
            0%, 100% { text-shadow: 0 0 5px #ff0000; color: #ff0000; }
            50% { text-shadow: 0 0 10px #ff4d4d, 0 0 20px #ff0000; color: #ff4d4d; }
        }
        @keyframes inputGlow {
            0%, 100% { box-shadow: 0 0 5px #ff0000, 0 0 10px #ff0000; }
            50% { box-shadow: 0 0 10px #ff4d4d, 0 0 20px #ff0000, 0 0 30px #b40000; }
        }
        @keyframes neonGlow {
          0%, 100% { text-shadow: 0 0 5px #ff0000, 0 0 10px #ff0000; color: #ff0000; }
          50% { text-shadow: 0 0 10px #ff4d4d, 0 0 20px #ff0000, 0 0 30px #ff0000; color: #ff4d4d; }
        }
        @keyframes buttonClick {
          0% { transform: scale(1); }
          50% { transform: scale(0.95); box-shadow: 0 0 5px #ff0000, 0 0 10px #ff0000; }
          100% { transform: scale(1); }
        }
        @keyframes menuSlideIn {
          from { transform: translateX(100%); opacity: 0; }
          to { transform: translateX(0); opacity: 1; }
        }

        /* SabtName Styles */
        .sabt-name-container {
          position: relative; display: flex; flex-direction: column; justify-content: center; align-items: center; width: 100%; height: 100%; user-select: none; isolation: isolate;
        }
        .sabt-name-container::before {
          content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><filter id="n" x="0" y="0" width="100%" height="100%"><feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="3" stitchTiles="stitch"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity="0.5"/></svg>'); background-size: 100px; opacity: 0.15; animation: grain 0.4s steps(1, end) infinite; z-index: 1;
        }
        .form-card {
          position: relative; z-index: 2; padding: 40px; background: rgba(0, 0, 0, 0.6); border: 2px solid #ff0000; border-radius: 15px; backdrop-filter: blur(5px); box-shadow: 0 0 20px #ff0000; text-align: center; width: 90%; max-width: 400px;
        }
        .form-card h1 {
          font-size: clamp(2rem, 8vw, 3rem); margin-bottom: 20px; letter-spacing: 0.1em; text-transform: uppercase; animation: textFlicker 3s linear infinite;
        }
        .form-card p {
          font-size: 1rem; margin-bottom: 30px; animation: textFlicker 4s linear infinite;
        }
        .form-group { margin-bottom: 20px; }
        .form-group.shake { animation: shake 0.5s; }
        .form-card input {
          box-sizing: border-box; width: 100%; padding: 10px; background-color: transparent; border: 2px solid #b40000; border-radius: 8px; color: #ff0000; font-size: 1.2rem; text-align: center; font-family: 'Creepster', cursive; transition: all 0.3s ease; animation: inputGlow 2.5s infinite ease-in-out;
        }
        .form-card input:focus {
          outline: none; border-color: #ff4d4d; box-shadow: 0 0 15px #ff4d4d;
        }
        .button-glow {
          position: relative; padding: 10px 20px; background: linear-gradient(45deg, #b40000, #ff0000); border: none; border-radius: 8px; color: #fff; font-family: 'Creepster', cursive; font-size: 1.5rem; text-transform: uppercase; letter-spacing: 0.1em; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 0 10px #ff0000, 0 0 20px #ff0000;
        }
        .button-glow:hover {
          background: linear-gradient(45deg, #ff0000, #b40000); box-shadow: 0 0 15px #ff4d4d, 0 0 30px #ff0000; transform: translateY(-2px);
        }
        .button-glow:active { transform: translateY(0); }
        .success-message {
            font-size: 1.5rem; color: #00ff00; text-shadow: 0 0 10px #00ff00, 0 0 20px #00ff00; animation: textFlicker 2s linear infinite;
        }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
const { useState } = React;

// Component for user name registration
const SabtName = ({ onNameSubmit }) => {
  const [userName, setUserName] = useState('');
  const [isSubmitted, setIsSubmitted] = useState(false);
  const [isShaking, setIsShaking] = useState(false);

  const handleSubmit = (e) => {
    e.preventDefault();
    if (userName.trim() === '') {
      setIsShaking(true);
      setTimeout(() => setIsShaking(false), 800);
      return;
    }
    setIsSubmitted(true);
    // Submit the name after a short delay
    setTimeout(() => onNameSubmit(userName), 1000); 
  };

  return (
    <div className="sabt-name-container">
      <div className="form-card">
        {!isSubmitted ? (
          <form onSubmit={handleSubmit}>
            <h1>Enter your name</h1>
            <p>The shadows are waiting...</p>
            <div className={`form-group ${isShaking ? 'shake' : ''}`}>
              <input
                type="text"
                value={userName}
                onChange={(e) => setUserName(e.target.value)}
                placeholder="Your Name Here"
                aria-label="Enter your name"
                required
              />
            </div>
            <button type="submit" className="button-glow">
              Submit
            </button>
          </form>
        ) : (
          <div>
            <h1 className="success-message">Welcome, {userName}.</h1>
            <p>The ritual has begun...</p>
          </div>
        )}
      </div>
    </div>
  );
};

const App = () => {
    const handleNameSubmit = (name) => {
        localStorage.setItem('userName', name);
        // Redirect after a delay to show the success message
        setTimeout(() => {
            window.location.href = 'main-menu.html';
        }, 1500);
    };

    return <SabtName onNameSubmit={handleNameSubmit} />;
};

const root = ReactDOM.createRoot(document.getElementById('root'));
root.render(<App />);
    </script>
  </body>
</html>
